{"uid":"d2f12addfcd2575b","name":"Проверка добавления пиццы в корзину - переход с помощью общего меню","fullName":"tests.main_page.test_add_to_cart.TestMainPageAddToCart#test_go_to_cart_using_head_button","historyId":"f155a42ff67428d57d98ba9fccf76b74","time":{"start":1678730557004,"stop":1678730557004,"duration":0},"status":"broken","statusMessage":"ValueError: could not convert string to float: 'ПИЦЦА «РАЙ'","statusTrace":"get_driver = <selenium.webdriver.remote.webdriver.WebDriver (session=\"8d7e78dd27835f7f58dd2d46d43bfb39\")>\n\n    @pytest.fixture(scope=\"function\")\n    def main_page(get_driver):\n>       yield MainPage(get_driver)\n\nsrc/fixtures/pizza_page_fixtures.py:29: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \nsrc/pages/main_page.py:16: in __init__\n    self.slider = PizzaSlider(driver)\nsrc/models/main_page/slider.py:15: in __init__\n    self.visible_pizzas = self.wait_for_pizza_objects()\nsrc/models/main_page/slider.py:40: in wait_for_pizza_objects\n    return self.wait.until(lambda d: self.get_visible_pizzas())\n/opt/hostedtoolcache/Python/3.10.10/x64/lib/python3.10/site-packages/selenium/webdriver/support/wait.py:86: in until\n    value = method(self._driver)\nsrc/models/main_page/slider.py:40: in <lambda>\n    return self.wait.until(lambda d: self.get_visible_pizzas())\nsrc/models/main_page/slider.py:55: in get_visible_pizzas\n    price=find_cost_in_title(name_and_price),\nsrc/utils/to_float.py:3: in find_cost_in_title\n    return str_to_float(cost_str)\n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nnumber = 'ПИЦЦА «РАЙ'\n\n    def str_to_float(number):\n>       return float(number.replace(\",\", \".\"))\nE       ValueError: could not convert string to float: 'ПИЦЦА «РАЙ'\n\nsrc/utils/to_float.py:7: ValueError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1678730446295,"stop":1678730446295,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false},{"name":"get_driver","time":{"start":1678730557005,"stop":1678730557768,"duration":763},"status":"passed","steps":[{"name":"Запуск браузера: chrome","time":{"start":1678730557005,"stop":1678730557768,"duration":763},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":true},{"name":"main_page","time":{"start":1678730557768,"stop":1678730562201,"duration":4433},"status":"broken","statusMessage":"ValueError: could not convert string to float: 'ПИЦЦА «РАЙ'\n","statusTrace":"  File \"/opt/hostedtoolcache/Python/3.10.10/x64/lib/python3.10/site-packages/pluggy/_callers.py\", line 39, in _multicall\n    res = hook_impl.function(*args)\n  File \"/opt/hostedtoolcache/Python/3.10.10/x64/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1128, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/opt/hostedtoolcache/Python/3.10.10/x64/lib/python3.10/site-packages/_pytest/fixtures.py\", line 900, in call_fixture_func\n    fixture_result = next(generator)\n  File \"/home/runner/work/python-autotests/python-autotests/src/fixtures/pizza_page_fixtures.py\", line 29, in main_page\n    yield MainPage(get_driver)\n  File \"/home/runner/work/python-autotests/python-autotests/src/pages/main_page.py\", line 16, in __init__\n    self.slider = PizzaSlider(driver)\n  File \"/home/runner/work/python-autotests/python-autotests/src/models/main_page/slider.py\", line 15, in __init__\n    self.visible_pizzas = self.wait_for_pizza_objects()\n  File \"/home/runner/work/python-autotests/python-autotests/src/models/main_page/slider.py\", line 40, in wait_for_pizza_objects\n    return self.wait.until(lambda d: self.get_visible_pizzas())\n  File \"/opt/hostedtoolcache/Python/3.10.10/x64/lib/python3.10/site-packages/selenium/webdriver/support/wait.py\", line 86, in until\n    value = method(self._driver)\n  File \"/home/runner/work/python-autotests/python-autotests/src/models/main_page/slider.py\", line 40, in <lambda>\n    return self.wait.until(lambda d: self.get_visible_pizzas())\n  File \"/home/runner/work/python-autotests/python-autotests/src/models/main_page/slider.py\", line 55, in get_visible_pizzas\n    price=find_cost_in_title(name_and_price),\n  File \"/home/runner/work/python-autotests/python-autotests/src/utils/to_float.py\", line 3, in find_cost_in_title\n    return str_to_float(cost_str)\n  File \"/home/runner/work/python-autotests/python-autotests/src/utils/to_float.py\", line 7, in str_to_float\n    return float(number.replace(\",\", \".\"))\n","steps":[{"name":"Открытие страницы: http://pizzeria.skillbox.cc/","time":{"start":1678730557777,"stop":1678730560002,"duration":2225},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"attachments":[],"parameters":[],"stepsCount":1,"attachmentsCount":0,"shouldDisplayMessage":true,"hasContent":true}],"afterStages":[{"name":"get_driver::0","time":{"start":1678730562215,"stop":1678730562296,"duration":81},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false,"hasContent":false}],"labels":[{"name":"story","value":"Добавление товаров в корзину"},{"name":"feature","value":"Главная страница"},{"name":"parentSuite","value":"tests.main_page"},{"name":"suite","value":"test_add_to_cart"},{"name":"subSuite","value":"TestMainPageAddToCart"},{"name":"host","value":"fv-az408-963"},{"name":"thread","value":"2951-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.main_page.test_add_to_cart"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"d2f12addfcd2575b.json","parameterValues":[]}